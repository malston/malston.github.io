# ABOUTME: Caddy configuration for static site hosting
# ABOUTME: Automatic HTTPS via Let's Encrypt when using real domain

{
    # Uncomment for production with real domain
    # email your-email@example.com
}

# Development/testing on port 80
:80 {
    root * /srv
    file_server
    encode gzip

    header {
        X-Frame-Options "SAMEORIGIN"
        X-Content-Type-Options "nosniff"
        X-XSS-Protection "1; mode=block"
        Referrer-Policy "strict-origin-when-cross-origin"
    }
}

# Production - uncomment and update domain when deploying
# malston.dev {
#     root * /srv
#     file_server
#     encode gzip
#
#     header {
#         Strict-Transport-Security "max-age=31536000; includeSubDomains"
#         X-Frame-Options "SAMEORIGIN"
#         X-Content-Type-Options "nosniff"
#     }
# }
